<div class="m-5 text-center">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    (keyup.enter)="searchMovies()"
    placeholder="Enter movie name to search..."
    class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 min-w-80"
  />
  <button
    (click)="searchMovies()"
    class="ml-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"
  >
    Search
  </button>
</div>

<div
  class="grid grid-cols-[repeat(auto-fill,minmax(240px,1fr))] gap-5 p-5 mt-5"
  *ngIf="movies.length"
>
  <div
    class="border border-gray-200 p-2.5 text-center rounded-lg flex flex-col"
    *ngFor="let movie of movies"
  >
    <div class="flex-grow">
      <img
        [src]="movie.Poster"
        [alt]="movie.Title"
        class="w-full h-[360px] object-cover"
        *ngIf="movie.Poster !== 'N/A'"
      />
      <div class="mt-2">
        <h3 class="text-lg font-semibold">{{ movie.Title }}</h3>
        <p class="text-gray-600">{{ movie.Year }}</p>
      </div>
    </div>

    <div class="mt-auto">
      <button
        [routerLink]="['/movie', movie.imdbID]"
        class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 w-full"
      >
        View Details
      </button>
      <button
        (click)="addToWatchlist(movie)"
        class="mt-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 w-full"
      >
        Add to Watchlist
      </button>
    </div>
  </div>
</div>
